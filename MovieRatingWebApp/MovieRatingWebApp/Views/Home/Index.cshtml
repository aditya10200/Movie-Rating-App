@model MovieRatingWebApp.Models.PopularViewModel

@{
    ViewData["Title"] = "Home Page";
}

<div class="row">
    <div class="col">
        <div class="col-sm-5 m-md-1 popular-height">
            <img src="~/images/default-image.png" alt="Thumbnail" class="img-responsive" />
        </div>
        <div class="col-sm-7 m-md-1  p-sm-5 border border-secondary popular-height">
            <h4 class="card-header ">MOST POPULAR</h4>
            <div class="popular-bg">
                @if(Model.MostPopular != null)
                { 
                    <h4 style="color:yellow">
                        @Html.DisplayFor(modelItem => Model.MostPopular.Title)
                    </h4>
                    <div>
                        Director: @Html.DisplayFor(modelItem => Model.MostPopular.Director.Name)
                    </div>
                    <div>
                        Realeased: @Html.DisplayFor(modelItem => Model.MostPopular.ReleaseYear)
                    </div>
                    <div>
                        @await Html.PartialAsync("_RatingPartial", @Model.MostPopular)
                    </div>
                }else
                {
                    <em>Sorry. There are no movies in the database. Please click Add Movie in Movie menu to add</em>
                }
            </div>
        </div>
    </div>
</div>

<div class="row" style="margin-top: 50px;">
    <div class="col">
        <h4 class="text-muted mt-3">FEATURED</h4>
        <div class="row  mt-3">
            @foreach (var item in Model.PopularMovies)
            {
                <div class="card col-sm-4 m-md-1 border border-secondary rounded-sm ">
                    <div class="featured">
                        <img src="@Url.Content(item.PosterImage)" alt="Thumbnail" class="card-img-top" />
                    </div>
                    <div class="card-body text-center">
                        <p class="card-text">
                            @Html.DisplayFor(modelItem => item.Title)
                        </p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>